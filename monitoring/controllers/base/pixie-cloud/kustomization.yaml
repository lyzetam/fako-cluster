apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: pixie-cloud-base

resources:
  - namespace.yaml
  - dependencies
  - secrets
  - components
  - setup/init-secrets-job.yaml
  - setup/create-admin-job.yaml

# Deploy order is important:
# 1. Dependencies (Elastic operator, databases)
# 2. Secrets
# 3. Core components
# 4. Setup jobs

commonLabels:
  app.kubernetes.io/name: pixie-cloud
  app.kubernetes.io/part-of: pixie
  app.kubernetes.io/component: cloud
