apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Core applications
  # - linkding
  # - audiobookshelf
  # - homebot
  - oura-collector
  - oura-agent        # Oura health assistant Discord bot
  # - oura-dashboard  # Deactivated - not in use
  # - wger
  # - donetick         # Task & chore management

  # Database Management
  - postgres-cluster
  - pgadmin
  - postgres-recovery  # Recovery namespace with local storage on aitower

  # Identity Management
  - keycloak

  # Security Scanning
  - gitleaks
  - kube-bench
  - kubescape-operator  # Changed from kubescape to use the operator
  
  # Cluster Maintenance
  - housekeeping  # Cleanup completed/failed pods periodically
  
  # Dashboard
  - headlamp  # Kubernetes dashboard with Kubescape plugin

  # Developer Portal
  # - backstage  # Disabled - waiting for AWS secret /fako/backstage/keycloak-oidc (see apps/base/backstage/STATUS.md)

  # Observability
  - langfuse      # LLM observability (Langfuse self-hosted)
  # - pixie     # Now deployed via New Relic in monitoring/controllers
  
  # AI/ML stack with GPU support
  - ollama
  # - ollama-jetson   # Separate deployment for Jetson Orin Nano
  # - ollama-jetson2  # Separate deployment for jetson02 node with qwen3:4b
  - ollama-webui    # Keep original running
  - open-webui      # Test new namespace with shared storage
  # - whisper         # Disabled for WhisperX testing
  - whisper-cpu       # CPU-only Whisper with OpenAI-compatible API
  - piper
  # - piper-v13       # Piper (LinuxServer image) in separate namespace - DEACTIVATED
  - openwakeword
  # - node-labeling
  # - voice-pipeline-test  # End-to-end voice pipeline testing (runs nightly at 3am)
  
  # AI Agent
  # - kagent         # Kubernetes AI assistant
  - claude-code     # Claude Code container for n8n SSH orchestration

  # MCP Servers for Kagent
  # - mcp-servers    # Model Context Protocol servers
  
  # Exolabs (replaced GPUStack)
  - exo               # Service proxy to exolabs Mac Studio cluster
  # - gpustack-proxy  # REPLACED by exo
  
  # Workflow Automation
  - n8n             # Workflow automation platform
  # - n8n-migration  # n8n database migration jobs
  - sftp-server     # SFTP server for UniFi Drive access
  # - audio-compressor # OLD: Nightly audio compression job - replaced by audio-workflows
  
  # Documentation
  - blog            # Hugo-based documentation site
  
  # Corporate Website
  - lzt-ui          # LZ Technology corporate website

  # Manufacturing OEE Dashboard
  # - n3xis           # Manufacturing OEE Platform (commented - shopflor.n3xis.com not for public access)

  # MCP Gateway
  - mcp-gateway     # Docker MCP Gateway for remote MCP server access

  # Document Management
  - paperless-ngx   # Document management system with OCR

  # Trading Platform
  - quantum-trades  # Quantum Trades trading platform
  - market-replay   # Market replay system (recorder, replay, gateway)

  # Analytics
  - umami           # Privacy-focused website analytics

  # WhisperX - Speaker diarization testing
  - whisperx        # WhisperX with speaker diarization (GPU)

  # Argo Workflows - Audio Processing Pipeline
  - audio-workflows # Unified audio processing DAG (replaces CronJobs)

  # Family Websites
  # - connor-birthday # Connor's 35th birthday surprise site

  # Voice Recording Pipeline
  - voice-ingest    # Wearable voice recorder ingest service (Pi/XIAO → WhisperX → Obsidian)

  # Family Management
  - family-manager  # Family Manager webhook for Discord bot, Twilio voice, Nylas email
  - meal-tracker    # Meal tracker Discord bot + dashboard
  - sermon-engine   # Weekly sermon generator (Sunday 6am ET)

  # zI - Zetam Intelligence (AI orchestration + agents, single source of truth)
  - zi

  # UniFi Clips Exporter
  - unifi-clients  # Daily export of UniFi Protect motion clips to S3

  # Debt Management
  - zeroed        # Zeroed - automated debt payoff optimization

  # Nick & Brothers — DEACTIVATED 2026-02-15 (moved to Hostinger VPS)
  # - nick-brothers

  # Thornus Platform - AI Workflow-as-a-Service (Thor composer + API)
  - thornus
