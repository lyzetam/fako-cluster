apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Core applications
  # - linkding
  # - audiobookshelf
  # - homebot
  - oura-collector
  - oura-dashboard
  # - wger
  # - donetick         # Task & chore management

  # Database Management
  - postgres-cluster
  - pgadmin
  - postgres-recovery  # Recovery namespace with local storage on aitower

  # Identity Management
  - keycloak

  # Security Scanning
  - gitleaks
  - kube-bench
  - kubescape-operator  # Changed from kubescape to use the operator
  
  # Cluster Maintenance
  - housekeeping  # Cleanup completed/failed pods periodically
  
  # Dashboard
  - headlamp  # Kubernetes dashboard with Kubescape plugin
  
  # Observability
  # - pixie     # Now deployed via New Relic in monitoring/controllers
  
  # AI/ML stack with GPU support
  - ollama         
  # - ollama-jetson   # Separate deployment for Jetson Orin Nano
  # - ollama-jetson2  # Separate deployment for jetson02 node with qwen3:4b
  - ollama-webui    # Keep original running
  - open-webui      # Test new namespace with shared storage
  - whisper         
  # - whisper-cpu     # CPU-only Whisper deployment
  - piper           
  # - piper-v13       # Piper (LinuxServer image) in separate namespace - DEACTIVATED
  - openwakeword
  # - node-labeling
  # - voice-pipeline-test  # End-to-end voice pipeline testing (runs nightly at 3am)
  
  # AI Agent
  # - kagent         # Kubernetes AI assistant
  
  # MCP Servers for Kagent
  # - mcp-servers    # Model Context Protocol servers
  
  # GPUStack Proxy
  - gpustack-proxy  # Proxy to GPUStack endpoint
  
  # Workflow Automation
  - n8n             # Workflow automation platform
  # - n8n-migration  # n8n database migration jobs
  - sftp-server     # SFTP server for UniFi Drive access
  - audio-compressor # Nightly audio compression job
  
  # Documentation
  - blog            # Hugo-based documentation site
  
  # Corporate Website
  - lzt-ui          # LZ Technology corporate website

  # Manufacturing OEE Dashboard
  - n3xis           # Manufacturing OEE Platform

  # MCP Gateway
  - mcp-gateway     # Docker MCP Gateway for remote MCP server access

  # Document Management
  - paperless-ngx   # Document management system with OCR
