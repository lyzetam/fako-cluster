apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: orchestrator-qt-secrets-sync
  namespace: quantum-trades
spec:
  secretStoreRef:
    name: aws-secrets-store
    kind: SecretStore
  target:
    name: orchestrator-qt-secrets
    creationPolicy: Owner
    deletionPolicy: Retain
  data:
    - secretKey: ANTHROPIC_API_KEY
      remoteRef:
        key: quantum-trades/api-keys
        property: ANTHROPIC_API_KEY
    - secretKey: OPENAI_API_KEY
      remoteRef:
        key: quantum-trades/api-keys
        property: OPENAI_API_KEY
    - secretKey: GOOGLE_API_KEY
      remoteRef:
        key: quantum-trades/api-keys
        property: GOOGLE_API_KEY
    - secretKey: MASSIVE_API_KEY
      remoteRef:
        key: quantum-trades/api-keys
        property: MASSIVE_API_KEY
    - secretKey: AGENTS_API_KEY
      remoteRef:
        key: quantum-trades/api-keys
        property: AGENTS_API_KEY
    - secretKey: TRADIER_API_KEY
      remoteRef:
        key: quantum-trades/trading
        property: TRADIER_API_KEY
    - secretKey: TRADIER_ACCOUNT_ID
      remoteRef:
        key: quantum-trades/trading
        property: TRADIER_ACCOUNT_ID
    - secretKey: ALPACA_API_KEY
      remoteRef:
        key: quantum-trades/alpaca
        property: ALPACA_API_KEY
    - secretKey: ALPACA_SECRET_KEY
      remoteRef:
        key: quantum-trades/alpaca
        property: ALPACA_SECRET_KEY
    - secretKey: OBSIDIAN_API_KEY
      remoteRef:
        key: obsidian/api
        property: api_key
    - secretKey: SUPABASE_URL
      remoteRef:
        key: quantum-trades/supabase
        property: url
    - secretKey: SUPABASE_KEY
      remoteRef:
        key: quantum-trades/supabase
        property: service_role_key
  refreshInterval: 1h
