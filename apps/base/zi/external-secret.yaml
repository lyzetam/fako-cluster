apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: zi-secrets
  namespace: autobots
spec:
  refreshInterval: 1h
  secretStoreRef:
    kind: SecretStore
    name: aws-secret-store
  target:
    name: zi-secrets
    creationPolicy: Owner
  data:
    # Anthropic API key (same as autobots uses)
    - secretKey: anthropic-api-key
      remoteRef:
        key: family-manager-bot/anthropic
        property: api_key
    # OpenAI API key for vision/specialized tasks
    - secretKey: openai-api-key
      remoteRef:
        key: openai/api-key
        property: api_key
    # Discord bot token for zI interface
    - secretKey: discord-bot-token
      remoteRef:
        key: zi/discord
        property: bot_token
    # Discord allowed user IDs
    - secretKey: discord-allowed-users
      remoteRef:
        key: zi/discord
        property: allowed_users
    # Obsidian Local REST API
    - secretKey: obsidian-api-url
      remoteRef:
        key: obsidian/api
        property: api_url
    - secretKey: obsidian-api-key
      remoteRef:
        key: obsidian/api
        property: api_key
