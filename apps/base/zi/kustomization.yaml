apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: zi

resources:
  # Core zI resources
  - namespace.yaml
  - configmap.yaml
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - pvc.yaml
  - zi-brain-storage.yaml
  - rbac.yaml
  # Dashboard (Next.js)
  - zi-dashboard-deployment.yaml
  - zi-dashboard-service.yaml
  # Shared infrastructure
  - aws-secret-store.yaml
  - external-secret.yaml
  - external-secret-dockerhub.yaml
  - external-secret-langfuse.yaml
  # Redis (cache for agent knowledge sharing)
  - redis-deployment.yaml
  - redis-service.yaml
  # Autobots workforce (merged from autobots base)
  - autobots-deployment.yaml
  - autobots-service.yaml
  - autobots-ingress.yaml
  - autobots-external-secret.yaml
  # Agent Memory PVCs (61 agents)
  - account-executive-memory.yaml
  - ai-engineer-memory.yaml
  - ap-specialist-memory.yaml
  - app-security-memory.yaml
  - app-sre-memory.yaml
  - ar-manager-memory.yaml
  - backend-engineer-memory.yaml
  - business-development-rep-memory.yaml
  - business-operations-manager-memory.yaml
  - cloud-engineer-memory.yaml
  - code-reviewer-memory.yaml
  - communications-director-memory.yaml
  - competitive-analyst-memory.yaml
  - content-manager-memory.yaml
  - controller-memory.yaml
  - creative-director-memory.yaml
  - cs-director-memory.yaml
  - cs-operations-analyst-memory.yaml
  - customer-education-manager-memory.yaml
  - customer-success-manager-memory.yaml
  - data-engineer-memory.yaml
  - devops-engineer-memory.yaml
  - digital-marketing-manager-memory.yaml
  - financial-analyst-memory.yaml
  - fpa-manager-memory.yaml
  - frontend-engineer-memory.yaml
  - governance-engine-memory.yaml
  - head-of-design-memory.yaml
  - hr-manager-memory.yaml
  - k8s-engineer-memory.yaml
  - legal-counsel-memory.yaml
  - market-researcher-memory.yaml
  - marketing-operations-manager-memory.yaml
  - onboarding-manager-memory.yaml
  - platform-security-memory.yaml
  - platform-sre-memory.yaml
  - pr-manager-memory.yaml
  - procurement-manager-memory.yaml
  - product-manager-memory.yaml
  - product-marketing-manager-memory.yaml
  - product-operations-manager-memory.yaml
  - project-manager-memory.yaml
  - qa-engineer-memory.yaml
  - recruiter-memory.yaml
  - sales-development-rep-memory.yaml
  - sales-enablement-manager-memory.yaml
  - sales-manager-memory.yaml
  - sales-operations-analyst-memory.yaml
  - sdr-manager-memory.yaml
  - security-engineer-memory.yaml
  - senior-product-manager-memory.yaml
  - social-media-manager-memory.yaml
  - solutions-architect-memory.yaml
  - support-manager-memory.yaml
  - support-representative-memory.yaml
  - tech-lead-memory.yaml
  - tech-writer-memory.yaml
  - technical-product-manager-memory.yaml
  - technical-support-specialist-memory.yaml
  - ux-designer-memory.yaml
  - ux-researcher-memory.yaml

  # Agent shared resources (merged from zi-agents)
  - zi-agents-memory-pvc.yaml
  - rbac-k8s-operator.yaml
  - configmap-generators.yaml

  # Agent deployments (63)
  - deployments/account-executive.yaml
  - deployments/ai-engineer.yaml
  - deployments/ap-specialist.yaml
  - deployments/app-security.yaml
  - deployments/app-sre.yaml
  - deployments/ar-manager.yaml
  - deployments/backend-engineer.yaml
  - deployments/business-development-rep.yaml
  - deployments/business-operations-manager.yaml
  - deployments/cloud-engineer.yaml
  - deployments/code-reviewer.yaml
  - deployments/communications-director.yaml
  - deployments/competitive-analyst.yaml
  - deployments/content-manager.yaml
  - deployments/controller.yaml
  - deployments/creative-director.yaml
  - deployments/cs-director.yaml
  - deployments/cs-operations-analyst.yaml
  - deployments/customer-education-manager.yaml
  - deployments/customer-success-manager.yaml
  - deployments/data-engineer.yaml
  - deployments/debugger.yaml
  - deployments/devops-engineer.yaml
  - deployments/digital-marketing-manager.yaml
  - deployments/financial-analyst.yaml
  - deployments/fpa-manager.yaml
  - deployments/frontend-engineer.yaml
  - deployments/governance-engine.yaml
  - deployments/head-of-design.yaml
  - deployments/hr-manager.yaml
  - deployments/k8s-engineer.yaml
  - deployments/legal-counsel.yaml
  - deployments/market-researcher.yaml
  - deployments/marketing-operations-manager.yaml
  - deployments/onboarding-manager.yaml
  - deployments/platform-security.yaml
  - deployments/platform-sre.yaml
  - deployments/pr-manager.yaml
  - deployments/procurement-manager.yaml
  - deployments/product-manager.yaml
  - deployments/product-marketing-manager.yaml
  - deployments/product-operations-manager.yaml
  - deployments/project-manager.yaml
  - deployments/qa-engineer.yaml
  - deployments/recruiter.yaml
  - deployments/sales-development-rep.yaml
  - deployments/sales-enablement-manager.yaml
  - deployments/sales-manager.yaml
  - deployments/sales-operations-analyst.yaml
  - deployments/sdr-manager.yaml
  - deployments/security-engineer.yaml
  - deployments/senior-product-manager.yaml
  - deployments/social-media-manager.yaml
  - deployments/solutions-architect.yaml
  - deployments/support-manager.yaml
  - deployments/support-representative.yaml
  - deployments/tdd-engineer.yaml
  - deployments/tech-lead.yaml
  - deployments/tech-writer.yaml
  - deployments/technical-product-manager.yaml
  - deployments/technical-support-specialist.yaml
  - deployments/ux-designer.yaml
  - deployments/ux-researcher.yaml

  # Agent services (63)
  - services/account-executive.yaml
  - services/ai-engineer.yaml
  - services/ap-specialist.yaml
  - services/app-security.yaml
  - services/app-sre.yaml
  - services/ar-manager.yaml
  - services/backend-engineer.yaml
  - services/business-development-rep.yaml
  - services/business-operations-manager.yaml
  - services/cloud-engineer.yaml
  - services/code-reviewer.yaml
  - services/communications-director.yaml
  - services/competitive-analyst.yaml
  - services/content-manager.yaml
  - services/controller.yaml
  - services/creative-director.yaml
  - services/cs-director.yaml
  - services/cs-operations-analyst.yaml
  - services/customer-education-manager.yaml
  - services/customer-success-manager.yaml
  - services/data-engineer.yaml
  - services/debugger.yaml
  - services/devops-engineer.yaml
  - services/digital-marketing-manager.yaml
  - services/financial-analyst.yaml
  - services/fpa-manager.yaml
  - services/frontend-engineer.yaml
  - services/governance-engine.yaml
  - services/head-of-design.yaml
  - services/hr-manager.yaml
  - services/k8s-engineer.yaml
  - services/legal-counsel.yaml
  - services/market-researcher.yaml
  - services/marketing-operations-manager.yaml
  - services/onboarding-manager.yaml
  - services/platform-security.yaml
  - services/platform-sre.yaml
  - services/pr-manager.yaml
  - services/procurement-manager.yaml
  - services/product-manager.yaml
  - services/product-marketing-manager.yaml
  - services/product-operations-manager.yaml
  - services/project-manager.yaml
  - services/qa-engineer.yaml
  - services/recruiter.yaml
  - services/sales-development-rep.yaml
  - services/sales-enablement-manager.yaml
  - services/sales-manager.yaml
  - services/sales-operations-analyst.yaml
  - services/sdr-manager.yaml
  - services/security-engineer.yaml
  - services/senior-product-manager.yaml
  - services/social-media-manager.yaml
  - services/solutions-architect.yaml
  - services/support-manager.yaml
  - services/support-representative.yaml
  - services/tdd-engineer.yaml
  - services/tech-lead.yaml
  - services/tech-writer.yaml
  - services/technical-product-manager.yaml
  - services/technical-support-specialist.yaml
  - services/ux-designer.yaml
  - services/ux-researcher.yaml

# Use labels instead of commonLabels to avoid corrupting network policy selectors
labels:
  - pairs:
      app.kubernetes.io/name: zi
      app.kubernetes.io/component: ai-interface
      app.kubernetes.io/part-of: claude-agent-platform
    includeSelectors: false
