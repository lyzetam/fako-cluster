apiVersion: kagent.dev/v1alpha1
kind: ModelConfig
metadata:
  name: ollama-deepseek-r1-coder-tools
  namespace: kagent
spec:
  model: ishumilin/deepseek-r1-coder-tools:14b
  provider: Ollama
  ollama:
    host: "http://ollama-gpu.ollama.svc.cluster.local:11434"
    # Enhanced parameters for autonomous coding agents
    options:
      num_ctx: 32768          # Large context window as specified in the model
      temperature: 0.1        # Lower temperature for more consistent code generation
      top_p: 0.9             # Balanced creativity vs consistency
      repeat_penalty: 1.1     # Prevent repetition
      stop:                   # Stop tokens as specified in the model
        - "<|im_start|>"
        - "<|im_end|>"
        - "<|endoftext|>"
  # Required for custom models - Enhanced capabilities for Cline
  modelInfo:
    vision: false              # DeepSeek R1 Coder Tools doesn't support image inputs
    functionCalling: true     # Enhanced function/tool calling support for autonomous agents
    jsonOutput: true          # Can generate JSON responses
    family: "deepseek"        # Model family identifier
    structuredOutput: true    # Enhanced structured output generation
    multipleSystemMessages: false  # Standard single system message support
    # Additional metadata for the enhanced model
    description: "Enhanced DeepSeek R1 Coder model specifically modified for autonomous coding agents like Cline"
    capabilities:
      - "autonomous_coding"
      - "plan_and_act_modes"
      - "improved_code_understanding"
      - "enhanced_tool_interaction"
