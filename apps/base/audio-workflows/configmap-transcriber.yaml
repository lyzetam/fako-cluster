apiVersion: v1
kind: ConfigMap
metadata:
  name: audio-transcriber-config
  namespace: audio-workflows
data:
  WHISPER_MODEL: "Systran/faster-distil-whisper-large-v3"
  WHISPER_LANGUAGE: "auto"
  INPUT_DIR: "/data/compressed"  # Compressor saves to /data, transcriber reads from /data/compressed mount
  OUTPUT_DIR: "/data/transcriptions"
  OUTPUT_FORMAT: "json"
  AUDIO_EXTENSIONS: ".mp3"
  SKIP_PROCESSED: "true"  # Skip already transcribed files
  MAX_FILE_SIZE_MB: "10000"
  BATCH_SIZE: "3"  # Reduced to avoid timeout with large chunked files
  MAX_RETRIES: "3"
  RETRY_DELAY: "10"
  WHISPER_TIMEOUT: "7200"
  LOG_LEVEL: "INFO"
  CONCURRENT_CHUNKS: "8"
